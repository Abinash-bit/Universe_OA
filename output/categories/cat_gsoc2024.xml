<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Universe OpenAstronomy (Posts about gsoc2024)</title><link>http://openastronomy.org/Universe_OA/</link><description></description><atom:link href="http://openastronomy.org/Universe_OA/categories/cat_gsoc2024.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><lastBuildDate>Mon, 26 Aug 2024 01:06:03 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>A summary</title><link>http://openastronomy.org/Universe_OA/posts/2024/08/20240825_0000_code29563/</link><dc:creator>code29563</dc:creator><description>&lt;p&gt;RADIS describes itself as &lt;a href="https://radis.readthedocs.io/en/latest/"&gt;‘a fast line-by-line code for high resolution infrared molecular spectra’&lt;/a&gt;. My project focussed on adding support for atomic line databases to RADIS, which has up till now catered only for molecular databases. Atomic lines differ significantly from molecular lines in how they are affected by Lorentzian broadening and how non-equilibrium spectra are handled.&lt;/p&gt;

&lt;p&gt;The main goal was &lt;a href="https://github.com/radis/radis/pull/652"&gt;adding support for the Kurucz atomic database&lt;/a&gt;, which is now complete. This laid the basic structure for adding new atomic databases, and &lt;a href="https://github.com/radis/radis/pull/689"&gt;a PR is now open for adding NIST&lt;/a&gt;.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;p&gt;A number of side issues have arisen throughout the course of the project and been tended to within those PRs, whereas independent issues and PRs have been opened for other issues:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The non-equilibrium linestrength calculation for both atoms and molecules now &lt;a href="https://github.com/radis/radis/pull/676"&gt;uses the Einstein Coefficient instead of the reference linestrength&lt;/a&gt;, thereby allowing weaker spectra to be seen&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/radis/radis/issues/661"&gt;The issue was also raised&lt;/a&gt; as to whether RADIS should be automatically modifying the user config file, and if so then how. That has been tended to in the Kurucz and NIST implementation so far and could be expanded to the molecular databases too.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/radis/radis/pull/675"&gt;fixing the removal of ‘object’ type columns from the line dataframe&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/radis/radis/issues/666"&gt;Debugging a docstring example that didn’t actually work&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Prior to the project starting, &lt;a href="https://github.com/radis/radis/pull/646"&gt;a PR&lt;/a&gt; was also opened to allow users to specify the minimum linestrength at which to cut off weaker lines by specifying them as the weakest x% of lines.&lt;/p&gt;</description><category>radis</category><guid>http://openastronomy.org/Universe_OA/posts/2024/08/20240825_0000_code29563/</guid><pubDate>Sat, 24 Aug 2024 23:00:00 GMT</pubDate></item><item><title>GSoC 2024 @OpenAstronomy: Overview of Merged and Pending PRs</title><link>http://openastronomy.org/Universe_OA/posts/2024/08/20240824_1117_viciouseagle03/</link><dc:creator>ViciousEagle03</dc:creator><description>&lt;p&gt;&lt;img alt="img" src="https://viciouseagle03.github.io/images/PR-Merged.png"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This blogpost deals with all the PRs that were merged/opened in NDCube/ SunPy / Astropy for completing the project.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;The PRs were filed in accordance with the tasks recorded in the GitHub &lt;a href="https://github.com/orgs/sunpy/projects/12"&gt;task-tab&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="ndcube"&gt;NDCube&lt;/h3&gt;
&lt;h5 id="pr-708-asdf-supporthttpsgithubcomsunpyndcubepull708"&gt;PR #708: &lt;a href="https://github.com/sunpy/ndcube/pull/708"&gt;Asdf-Support&lt;/a&gt;&lt;/h5&gt;
&lt;h5 id="merged"&gt;(Merged)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;PR for supporting the serialization of basic &lt;code&gt;ndcube.NDCube&lt;/code&gt; objects with the serialization logic written for the below classes
NDCube, GlobalCoords, ExtraCoords.&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="pr-751-add-support-for-the-serialization-of-the-ndcube-wcs-wrappershttpsgithubcomsunpyndcubepull751"&gt;PR #751: &lt;a href="https://github.com/sunpy/ndcube/pull/751"&gt;Add support for the serialization of the ndcube WCS wrappers&lt;/a&gt;&lt;/h5&gt;
&lt;h5 id="yet-to-be-merged"&gt;(Yet to be Merged)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;This PR introduces serialization support for &lt;code&gt;ndcube&lt;/code&gt; WCS wrappers, including &lt;code&gt;CompoundLowLevelWCS&lt;/code&gt;, &lt;code&gt;ResampledLowLevelWCS&lt;/code&gt; and &lt;code&gt;ReorderedLowLevelWCS&lt;/code&gt;, allowing them to be saved in ASDF format.&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="pr-756-add-serialization-logic-for-the-ndcubesequence-and-ndcollectionhttpsgithubcomsunpyndcubepull756"&gt;PR #756: &lt;a href="https://github.com/sunpy/ndcube/pull/756"&gt;Add serialization logic for the NDCubeSequence and NDCollection&lt;/a&gt;&lt;/h5&gt;
&lt;h5 id="yet-to-be-merged-1"&gt;(Yet to be Merged)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;This PR introduces serialization support for &lt;code&gt;NDCubeSequence&lt;/code&gt; and &lt;code&gt;NDCollection&lt;/code&gt; objects, enabling their conversion to and from ASDF format.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="astropy"&gt;Astropy&lt;/h3&gt;
&lt;h5 id="pr-237-remove-astropy-version-checkhttpsgithubcomastropyasdf-astropypull237"&gt;PR #237: &lt;a href="https://github.com/astropy/asdf-astropy/pull/237"&gt;Remove astropy version check&lt;/a&gt;&lt;/h5&gt;
&lt;h5 id="merged-1"&gt;(Merged)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;This PR removes the &lt;code&gt;astropy&lt;/code&gt; version check, which was previously set to version 5.1, from the codebase. The minimum required version is updated to 5.2, and associated conditional logic in &lt;code&gt;test_transform.py&lt;/code&gt; is removed.&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="pr-235-support-serialization-of-astropywcswcs-objects-to-asdfhttpsgithubcomastropyasdf-astropypull235"&gt;PR #235: &lt;a href="https://github.com/astropy/asdf-astropy/pull/235"&gt;Support serialization of astropy.wcs.WCS objects to ASDF&lt;/a&gt;&lt;/h5&gt;
&lt;h5 id="yet-to-be-merged-2"&gt;(Yet to be Merged)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;This PR introduces support for serializing &lt;code&gt;astropy.wcs.WCS&lt;/code&gt; and &lt;code&gt;astropy.wcs.wcsapi.SlicedLowLevelWCS&lt;/code&gt; objects to ASDF format. With this enhancement, any &lt;code&gt;ndcube.NDCube&lt;/code&gt; objects can be serialized to ASDF while preserving the underlying WCS as &lt;code&gt;astropy.wcs.WCS&lt;/code&gt;. Additionally, it ensures that sliced &lt;code&gt;ndcube.NDCube&lt;/code&gt; objects maintain proper WCS preservation when serialized and are restored correctly upon deserialization.&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="pr-239-add-serialization-logic-for-uncertainty-objectshttpsgithubcomastropyasdf-astropypull239"&gt;PR #239: &lt;a href="https://github.com/astropy/asdf-astropy/pull/239"&gt;Add serialization logic for uncertainty objects&lt;/a&gt;&lt;/h5&gt;
&lt;h5 id="yet-to-be-merged-3"&gt;(Yet to be Merged)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;This PR adds serialization logic for &lt;code&gt;astropy.nddata.StdDevUncertainty&lt;/code&gt; and &lt;code&gt;astropy.nddata.UnknownUncertainty&lt;/code&gt; objects. This update enables the serialization of these uncertainty types, ensuring that the uncertainty attribute of the &lt;code&gt;ndcube.NDCube&lt;/code&gt; object is properly preserved and restored.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="sunpy"&gt;SunPy&lt;/h3&gt;
&lt;h5 id="pr-7686-asdf-schema-update-minor-changehttpsgithubcomsunpysunpypull7686"&gt;PR #7686: &lt;a href="https://github.com/sunpy/sunpy/pull/7686"&gt;ASDF schema update: minor change&lt;/a&gt;&lt;/h5&gt;
&lt;h5 id="merged-2"&gt;(Merged)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;This PR updates the ASDF schema by removing incorrect usage of the unsupported &lt;code&gt;allowAdditionalProperties&lt;/code&gt; validator. This minor change ensures that the schema files for generic_map (versions &lt;code&gt;1.0.0&lt;/code&gt;, &lt;code&gt;1.1.0&lt;/code&gt;, and &lt;code&gt;1.2.0&lt;/code&gt;) are correctly formatted.&lt;/li&gt;
&lt;/ul&gt;</description><category>SunPy</category><guid>http://openastronomy.org/Universe_OA/posts/2024/08/20240824_1117_viciouseagle03/</guid><pubDate>Sat, 24 Aug 2024 10:17:02 GMT</pubDate></item><item><title>During GSoC 2024, I made several key contributions to the sunpy-soar project:</title><link>http://openastronomy.org/Universe_OA/posts/2024/08/20240823_1710_nucleongodx/</link><dc:creator>Manit Singh</dc:creator><description>&lt;ol&gt;&lt;li&gt;&lt;strong&gt;Initial Implementation of Metadata for Remote Sensing Instrument(merged):&lt;/strong&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="https://github.com/sunpy/sunpy-soar/pull/118"&gt;PR #118&lt;/a&gt;: This was my initial pull request where I established join operations for tables and implemented metadata for wavelength and detector for remote sensing instruments.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;2. Gallery Examples and How-to Guide for recent implementations(merged):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href="https://github.com/sunpy/sunpy-soar/pull/127"&gt;PR #127&lt;/a&gt;: In this pull request, I added gallery examples and a how-to guide showcasing the newly implemented wavelength and detector metadata.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;3. Error Handling for SOAR Server Downtime(merged):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href="https://github.com/sunpy/sunpy-soar/pull/135"&gt;PR #135&lt;/a&gt;: This update involved catching server errors thrown by SOAR when it’s down, enhancing the robustness of the system.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;4. Distance Filtering Query Support(merged):&lt;/strong&gt;&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href="https://github.com/sunpy/sunpy-soar/pull/137"&gt;PR #137&lt;/a&gt;: I added support for a new query method, REQUEST="doQueryFilteredByDistance", enabling distance-based filtering for queries.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;5. Observation Mode Metadata (Not Yet Merged):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href="https://github.com/sunpy/sunpy-soar/pull/140"&gt;PR #140&lt;/a&gt;: This pull request introduced Observation Mode as a new metadata. After discussions with my mentors, we decided not to merge this feature for now.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;6. Field of View (FoV) Values Extraction(Not yet merged):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href="https://github.com/sunpy/sunpy-soar/pull/143"&gt;PR #143&lt;/a&gt;: I added a third join table to extract Field of View (FoV) values with “earth” and “sun” references, allowing users to plot these on a SunPy map.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;7. Developer Guides for Future Development(Not yet merged)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href="https://github.com/sunpy/sunpy-soar/pull/147"&gt;PR #147&lt;/a&gt;: This pull request added a section of developer guides designed to assist future contributors in developing sunpy-soar.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;8. External Method for URL Construction (closed):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href="https://github.com/sunpy/sunpy-soar/pull/129"&gt;PR #129&lt;/a&gt;: This pull request proposed using an external method for making URL calls instead of manually constructing them. However, after further discussion with my mentors, we realized this approach could limit our ability to add future functionality, so we decided not to close it.&lt;/li&gt;&lt;/ul&gt;&lt;img alt="" height="1" src="https://medium.com/_/stat?event=post.clientViewed&amp;amp;referrerSource=full_rss&amp;amp;postId=6fe71e4df084" width="1"&gt;</description><category>SunPy</category><guid>http://openastronomy.org/Universe_OA/posts/2024/08/20240823_1710_nucleongodx/</guid><pubDate>Fri, 23 Aug 2024 16:10:53 GMT</pubDate></item><item><title>Almost done</title><link>http://openastronomy.org/Universe_OA/posts/2024/08/20240823_1648_kartikmandar/</link><dc:creator>Kartik Mandar</dc:creator><description>&lt;p&gt; Project is almost going to end currently, but there are so many plans for the future. I am gonna keep contributing in the future and make this a project a worthwhile tool for the astronomers to use. &lt;/p&gt;
&lt;!-- TEASER_END --&gt;</description><category>stingray</category><guid>http://openastronomy.org/Universe_OA/posts/2024/08/20240823_1648_kartikmandar/</guid><pubDate>Fri, 23 Aug 2024 15:48:00 GMT</pubDate></item><item><title>Float Panels working but there's a catch</title><link>http://openastronomy.org/Universe_OA/posts/2024/08/20240814_1709_kartikmandar/</link><dc:creator>Kartik Mandar</dc:creator><description>&lt;p&gt; Finally everything is working on floating panels and the dashboard is so much customisable now! It's awesome. But as every good thing has a catch, all my HoloViews objects are synced now, I don't yet know what the issue is but I have to figure this out!&lt;/p&gt;
&lt;!-- TEASER_END --&gt;</description><category>stingray</category><guid>http://openastronomy.org/Universe_OA/posts/2024/08/20240814_1709_kartikmandar/</guid><pubDate>Wed, 14 Aug 2024 16:09:00 GMT</pubDate></item><item><title>Implementing the NIST database</title><link>http://openastronomy.org/Universe_OA/posts/2024/08/20240812_0000_code29563/</link><dc:creator>code29563</dc:creator><description>&lt;ul&gt;
&lt;li&gt;The Einstein A coefficient is now used directly for calculating the non-equilibrium linestrength, given that it is calculated anyway for non-equilibrium spectra where it isn’t already present, rather than removing the temperature-dependent component of the reference linestrength, which was found to result in some atomic spectra not appearing. This also removes the need to calculate the reference linestrength for databanks where it’s not already present.&lt;/li&gt;
&lt;li&gt;Removed some redundnant code and miscellaneous fixes and improvements.&lt;/li&gt;
&lt;!-- TEASER_END --&gt;
&lt;li&gt;Fixed the documentation for many parts of the new code for atomic spectra so the formatting appears correct on Read the Docs.&lt;/li&gt;
&lt;li&gt;The pull request for the implementation of the Kurucz database has been merged&lt;/li&gt;
&lt;li&gt;Work has started on adding support for the NIST atomic database and it is currently at a stage where it produces working spectra.&lt;/li&gt;
&lt;/ul&gt;</description><category>radis</category><guid>http://openastronomy.org/Universe_OA/posts/2024/08/20240812_0000_code29563/</guid><pubDate>Sun, 11 Aug 2024 23:00:00 GMT</pubDate></item><item><title>Bidirectional Recurrent Neural Networks</title><link>http://openastronomy.org/Universe_OA/posts/2024/08/20240811_1127_lucasmg18/</link><dc:creator>Lucas Martin Garcia</dc:creator><description>&lt;h5&gt;Introduction&lt;/h5&gt;&lt;p&gt;In our ongoing objective to enhance the accuracy of Active Galactic Nuclei (AGN) light curve interpolation, we've previously explored various traditional and machine learning methods. Building on this foundation, this post introduces a sophisticated approach involving a Bidirectional Recurrent Neural Network (BRNN) coupled with an interpretative neural network layer, aimed at capturing the dynamics of AGN light curves more effectively.&lt;/p&gt;
&lt;h5&gt;Understanding Bidirectional Recurrent Neural Networks (BRNNs)&lt;/h5&gt;&lt;p&gt;BRNNs are an extension of traditional Recurrent Neural Networks (RNNs), designed to improve model performance by processing data in both forward and reverse directions. This dual-path architecture allows the network to retain information from both past and future contexts simultaneously, which is particularly beneficial for predicting sequences with complex dependencies, like those found in AGN light curves.&lt;/p&gt;
&lt;h5&gt;Implementing an Interpretative Neural Network Layer&lt;/h5&gt;&lt;p&gt;To make the outputs of the BRNN more comprehensible and useful, we integrate an additional neural network layer specifically for filling missing gaps. This layer translates the complex, non-linear relationships learned by the BRNN into clearer, more interpretable patterns. &lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;h5&gt;Results and Insights&lt;/h5&gt;&lt;p&gt;While the results are improving with the training of the model, there is still room for further improvement and refinement.&lt;/p&gt;
&lt;h5&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgS03-X5BldVm_XayVKUn4pPgNXMjlqocqkNVwbjWLA80Idcmpd5LGJX4ordaG2I02c2-bxQfbfVRusO5g7TArKHyJd6MmeWsVDZn0h9tF-rRZPrgrgUm85yGANSbZLpiIn7vPe3Xgs2Bi0XiwLLWy2V0vZGAsh1hB3Rh_ARZbGBt0IBC6ZGd3lZ5B8-pjS/s1400/Test_Set_Prediction%20(2).png" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="659" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgS03-X5BldVm_XayVKUn4pPgNXMjlqocqkNVwbjWLA80Idcmpd5LGJX4ordaG2I02c2-bxQfbfVRusO5g7TArKHyJd6MmeWsVDZn0h9tF-rRZPrgrgUm85yGANSbZLpiIn7vPe3Xgs2Bi0XiwLLWy2V0vZGAsh1hB3Rh_ARZbGBt0IBC6ZGd3lZ5B8-pjS/w920-h659/Test_Set_Prediction%20(2).png" width="920"&gt;&lt;/a&gt;&lt;/div&gt;&lt;br&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;br&gt;&lt;/div&gt;Future Directions&lt;br&gt;&lt;/h5&gt;&lt;p&gt;While the current model represents a significant advancement, there is room for further enhancement. Future work will explore the integration of additional data types and testing more complex neural network architectures to refine the predictions further.&lt;/p&gt;
&lt;h5&gt;Conclusion&lt;/h5&gt;&lt;p&gt;The integration of BRNNs with an interpretative neural network layer marks a significant leap forward in our ability to interpolate AGN light curve data accurately. The idea of using both future time sequences and past data could improve the understanding of the ML models and predict the missing gaps better.&lt;/p&gt;</description><category>irsa-fornax</category><guid>http://openastronomy.org/Universe_OA/posts/2024/08/20240811_1127_lucasmg18/</guid><pubDate>Sun, 11 Aug 2024 10:27:00 GMT</pubDate></item><item><title>Changing the plotting methods</title><link>http://openastronomy.org/Universe_OA/posts/2024/08/20240805_1605_kartikmandar/</link><dc:creator>Kartik Mandar</dc:creator><description>&lt;p&gt; So the recoding and redesign is done. But we were discussing about how we are plotting things in dashboard and wanted to have floatpanels for doing so.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;</description><category>stingray</category><guid>http://openastronomy.org/Universe_OA/posts/2024/08/20240805_1605_kartikmandar/</guid><pubDate>Mon, 05 Aug 2024 15:05:00 GMT</pubDate></item><item><title>Implementing non-equilibrium spectra</title><link>http://openastronomy.org/Universe_OA/posts/2024/07/20240729_0000_code29563/</link><dc:creator>code29563</dc:creator><description>&lt;ul&gt;
&lt;li&gt;Support has been added for non-equilibrium spectra. Comparisons with SpectraPlot are still showing discrepancies, the source of which is not yet resolved.&lt;/li&gt;
&lt;li&gt;References have been added for the Kurucz databank&lt;/li&gt;
&lt;!-- TEASER_END --&gt;
&lt;li&gt;Miscellaneous minor improvements and fixes in the code and docs&lt;/li&gt;
&lt;/ul&gt;</description><category>radis</category><guid>http://openastronomy.org/Universe_OA/posts/2024/07/20240729_0000_code29563/</guid><pubDate>Sun, 28 Jul 2024 23:00:00 GMT</pubDate></item><item><title>Towards New Speeds</title><link>http://openastronomy.org/Universe_OA/posts/2024/07/20240728_2230_deadspheroid/</link><dc:creator>DeadSpheroid</dc:creator><description>&lt;p class="intro"&gt;In this post, I hope to illustrate how GPU's actually accelerate parallel operations&lt;/p&gt;

&lt;h2 id="lets-get-started"&gt;Let’s get started&lt;/h2&gt;
&lt;!-- TEASER_END --&gt;
&lt;p&gt;Firstly, how do GPU’s really work? Well, at a lower level, the architecture looks something like this…&lt;/p&gt;

&lt;p align="center" width="100%"&gt;
&lt;img alt="GPU Architecture" src="https://deadspheroid.github.io/my-blog/assets/img/gpu-arch.png" style="margin-bottom: 0; margin-top: 24px;"&gt;
&lt;/p&gt;

&lt;p&gt;Focus on the differences between the two, CPUs have few, very highly specialised and refined cores.
GPUs on the other hand have hundreds of more primitive, yet powerful cores.&lt;/p&gt;

&lt;p&gt;This is the reason why GPUs can’t do I/O and stuff, its because they are meant solely for mathematical operations.&lt;/p&gt;

&lt;h2 id="but-whats-the-point-of-so-many-cores"&gt;But what’s the point of so many cores??&lt;/h2&gt;
&lt;p&gt;This is where SIMD or Single Instruction Multiple Data processing comes in handy. See, many operations(image and volume ones notoriously) are extremely taxing for the CPU to perform.
Imagine being part of a team of 8/16 people, stamping a sheet of paper, except you have 10^6 sheets to stamp.
Even if you took 1 ms/sheet, it would still take you insanely long to finish your jobs. And I mean, you have better things to do right?&lt;/p&gt;

&lt;p align="center" width="100%"&gt;
&lt;img alt="OpenCL Map/Unmap Buffers" src="https://deadspheroid.github.io/my-blog/assets/img/simd.png" style="margin-bottom: 0; margin-top: 24px;"&gt;
&lt;/p&gt;

&lt;p&gt;Well what if you could hire 10^3 people for cheap and give each of them a sheet of paper to stamp? Wouldn’t that greatly speed things up?
This is the core idea behind SIMD processing, you have an operation that is to be done thousands of times, over and over again, just on different data.&lt;/p&gt;

&lt;p&gt;So you give each GPU core a part of the data and let it do the job, since the GPU has so many cores, it’s not really a problem.&lt;/p&gt;

&lt;h2 id="so-whats-the-catch"&gt;So whats the catch?&lt;/h2&gt;
&lt;p&gt;Continuing the stamping sheet analogy, giving the sheets to 10^3 workers is challenging and time-consuming. In other words, data transfer is a problem, since GPU VRAM is separate from CPU RAM&lt;/p&gt;

&lt;p&gt;Additionally, parallel programming forces you to think in an additional dimension, because your code is being executed 100s of times at the same time. This makes writing efficient kernels difficult, since branching is frowned on at the GPU, and you need some way of preventing data races.&lt;/p&gt;

&lt;p&gt;That is to say nothing of the increased power consumption and high cost of hardware.&lt;/p&gt;

&lt;p&gt;Despite all of this however, GPUs are still heavily favoured, because the speed-up they offer greatly outweights the rest.&lt;/p&gt;

&lt;h2 id="well-how-do-i-use-my-gpu"&gt;Well, how do I use my GPU?&lt;/h2&gt;
&lt;p&gt;Let’s take an example, hopefully youre already familiar with image convolution. If not, the image below explains it well&lt;/p&gt;

&lt;p align="center" width="100%"&gt;
&lt;img alt="OpenCL Map/Unmap Buffers" src="https://deadspheroid.github.io/my-blog/assets/img/convol.png" style="margin-bottom: 0; margin-top: 24px;"&gt;
&lt;/p&gt;

&lt;p&gt;For each iteration, we center the kernel over a pixel, multiply the overlapping values, add them up and then (optionally)divide by sum of kernel values.
On CPU? For an m x n image and a k x k kernel, this is an O(mn * k^2) operation, meaning the time taken for convolution for a given data size increases tremendously.&lt;/p&gt;

&lt;p&gt;This can be greatly lessened using a GPU.&lt;/p&gt;

&lt;p&gt;But for that, we need to first identify the stamping task here, the tedious computation which is easy to do, but time consuming.&lt;/p&gt;

&lt;h2 id="image-convolution"&gt;Image Convolution&lt;/h2&gt;
&lt;p&gt;If you thought of the matmul operation happening at each pixel, you’d be correct!
This is one of the easiest ways to parallelise convolution. We’re repeatedly performing matrix multiplication, with different pixels at the center each time&lt;/p&gt;

&lt;p&gt;Therefore SIMD can be applied here, the instruction being matmul and the data being all the pixels.&lt;/p&gt;

&lt;p&gt;On a lower level, this is represented by the diffferent &lt;code class="language-plaintext highlighter-rouge"&gt;thread_id&lt;/code&gt; given to each thread on the GPU. This id represents a one to one mapping of an integer to input data elements.
Incase of Images, it is the pixel number that is at the center.&lt;/p&gt;

&lt;p&gt;Here’s an example of how convolution can be parallelized, note that this is not the most efficient and is nowhere near perfect, but it is simple enough to understand.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-C"&gt;__kernel void
convolution(
__global float *image_array, __global size_t *image_dsize,
__global float *kernell_array, __global size_t *kernell_dsize,

__global float *output) {

/* get the image and kernel size */
int image_height = image_dsize[0];
int image_width = image_dsize[1];
int kernell_height = kernell_dsize[0];
int kernell_width = kernell_dsize[1];

/* get the local group id */
int id = get_global_id(0);
int row = id / image_width;
int col = id % image_width;

if (row &amp;lt; image_height &amp;amp;&amp;amp; col &amp;lt; image_width) {

float sum = 0;
/* matmul operation as normal*/
for (int y = -kernell_height / 2; y &amp;lt;= kernell_height / 2; y++) {
for (int x = -kernell_width / 2; x &amp;lt;= kernell_width / 2; x++) {
if (row + y &amp;gt;= 0 &amp;amp;&amp;amp; row + y &amp;lt; image_height &amp;amp;&amp;amp; col + x &amp;gt;= 0 &amp;amp;&amp;amp;
col + x &amp;lt; image_width) {
sum += (image_array[(row + y) * image_width + col + x] *
kernell_array[(y + kernell_height / 2) * kernell_width + x +
kernell_width / 2]);
}
}
}
output[row * image_width + col] = sum;
}
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="a-new-outlook"&gt;A new outlook&lt;/h2&gt;
&lt;p&gt;Of course, the world would be a lovely place if everything could be parallelised as easily as this. Realistically, parallelizing these operations is hard, but you have tools like local groups, barriers, etc to help you out!&lt;/p&gt;</description><category>gnuastro</category><guid>http://openastronomy.org/Universe_OA/posts/2024/07/20240728_2230_deadspheroid/</guid><pubDate>Sun, 28 Jul 2024 21:30:00 GMT</pubDate></item></channel></rss>